exports.id=804,exports.ids=[804],exports.modules={4848:(e,r,s)=>{"use strict";s.d(r,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var t=s(997);s(6689);let __WEBPACK_DEFAULT_EXPORT__=({variant:e="primary",size:r="md",isLoading:s=!1,children:a,fullWidth:n=!1,className:i="",disabled:l,...o})=>{let c=["inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",{primary:"bg-primary-500 text-white hover:bg-primary-600 focus:ring-primary-500",secondary:"border border-primary-500 text-primary-500 hover:bg-primary-500 hover:text-white focus:ring-primary-500",tertiary:"text-neutral-700 hover:bg-neutral-100 focus:ring-neutral-500",danger:"bg-error text-white hover:bg-red-600 focus:ring-error"}[e],{sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"}[r],n?"w-full":"",i].filter(Boolean).join(" ");return(0,t.jsxs)("button",{className:c,disabled:l||s,...o,children:[s&&(0,t.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),a]})}},52:(e,r,s)=>{"use strict";s.d(r,{Ho:()=>AuthProvider,aC:()=>useAuth});var t=s(997),a=s(6689);let ApiClient=class ApiClient{constructor(e){this.baseURL=e}async request(e,r={}){let{method:s="GET",headers:t={},body:a,token:n}=r,i={method:s,headers:{"Content-Type":"application/json",...t}};n&&(i.headers={...i.headers,Authorization:`Bearer ${n}`}),a&&("POST"===s||"PUT"===s)&&(i.body=JSON.stringify(a));try{let r=await fetch(`${this.baseURL}${e}`,i);if(!r.ok){if(401===r.status)throw Error("Authentication required");if(403===r.status)throw Error("Access denied");if(404===r.status)throw Error("Resource not found");if(r.status>=500)throw Error("Server error");try{let e=await r.json();throw Error(e.error||e.message||"Request failed")}catch{throw Error(`Request failed with status ${r.status}`)}}if(204===r.status)return{};let s=await r.json();return s}catch(r){throw console.error(`API request failed: ${s} ${e}`,r),r}}async login(e,r){return this.request("/auth/login",{method:"POST",body:{username:e,password:r}})}async register(e){return this.request("/auth/register",{method:"POST",body:e})}async logout(){return this.request("/auth/logout",{method:"POST"})}async getCurrentUser(e){return this.request("/auth/me",{token:e})}async getGames(e){let r=e?"?"+new URLSearchParams(e).toString():"";return this.request(`/games${r}`)}async getGame(e){return this.request(`/games/${e}`)}async createGame(e,r){return this.request("/games",{method:"POST",body:e,token:r})}async updateGame(e,r,s){return this.request(`/games/${e}`,{method:"PUT",body:r,token:s})}async deleteGame(e,r){return this.request(`/games/${e}`,{method:"DELETE",token:r})}async getGameSquares(e){return this.request(`/games/${e}/squares`)}async requestSquare(e,r,s,t){return this.request(`/games/${e}/squares/request`,{method:"POST",body:{row:r,col:s},token:t})}async cancelSquareRequest(e,r,s){return this.request(`/games/${e}/squares/${r}/cancel`,{method:"DELETE",token:s})}async getSquareRequests(e,r){let s=e?`/games/${e}/requests`:"/requests";return this.request(s,{token:r})}async approveSquareRequest(e,r){return this.request(`/requests/${e}/approve`,{method:"POST",token:r})}async rejectSquareRequest(e,r,s){return this.request(`/requests/${e}/reject`,{method:"POST",body:{reason:r},token:s})}async removeSquareFromPlayer(e,r,s){return this.request(`/games/${e}/squares/${r}/remove`,{method:"DELETE",token:s})}async assignNumbers(e,r){return this.request(`/games/${e}/assign-numbers`,{method:"POST",token:r})}async updateGameStatus(e,r,s){return this.request(`/games/${e}/status`,{method:"PUT",body:{status:r},token:s})}async updateGameScores(e,r,s){return this.request(`/games/${e}/scores`,{method:"PUT",body:{scores:r},token:s})}async getUserSquares(e,r){return this.request(`/users/${e}/squares`,{token:r})}async getUserRequests(e,r){return this.request(`/users/${e}/requests`,{token:r})}};let n=new ApiClient("http://localhost:3001"),authReducer=(e,r)=>{switch(r.type){case"AUTH_LOADING":return{...e,isLoading:!0};case"AUTH_SUCCESS":return{user:r.payload,isAuthenticated:!0,isLoading:!1};case"AUTH_ERROR":case"AUTH_LOGOUT":return{user:null,isAuthenticated:!1,isLoading:!1};default:return e}},i={user:null,isAuthenticated:!1,isLoading:!0},l=(0,a.createContext)(void 0),getStoredToken=()=>null,setStoredToken=e=>{},removeStoredToken=()=>{},AuthProvider=({children:e})=>{let[r,s]=(0,a.useReducer)(authReducer,i);(0,a.useEffect)(()=>{let initAuth=async()=>{let e=getStoredToken();if(!e){s({type:"AUTH_ERROR",payload:"No token found"});return}try{let r=await n.getCurrentUser(e);r.success&&r.data?s({type:"AUTH_SUCCESS",payload:r.data}):(removeStoredToken(),s({type:"AUTH_ERROR",payload:"Invalid token"}))}catch(e){console.error("Auth initialization failed:",e),removeStoredToken(),s({type:"AUTH_ERROR",payload:"Authentication failed"})}};initAuth()},[]);let login=async(e,r)=>{s({type:"AUTH_LOADING"});try{let t=await n.login(e,r);if(t.success&&t.data){let{user:e,token:r}=t.data;setStoredToken(r),s({type:"AUTH_SUCCESS",payload:e})}else throw Error(t.error||"Login failed")}catch(e){throw s({type:"AUTH_ERROR",payload:"Login failed"}),e}},register=async e=>{s({type:"AUTH_LOADING"});try{let r=await n.register(e);if(r.success&&r.data)await login(e.username,e.password);else throw Error(r.error||"Registration failed")}catch(e){throw s({type:"AUTH_ERROR",payload:"Registration failed"}),e}},logout=async()=>{try{await n.logout()}catch(e){console.error("Logout request failed:",e)}finally{removeStoredToken(),s({type:"AUTH_LOGOUT"})}},refreshUser=async()=>{let e=getStoredToken();if(!e){s({type:"AUTH_ERROR",payload:"No token found"});return}try{let r=await n.getCurrentUser(e);if(r.success&&r.data)s({type:"AUTH_SUCCESS",payload:r.data});else throw Error("Failed to refresh user")}catch(e){console.error("Failed to refresh user:",e),removeStoredToken(),s({type:"AUTH_LOGOUT"})}},o={...r,login,register,logout,refreshUser};return t.jsx(l.Provider,{value:o,children:e})},useAuth=()=>{let e=(0,a.useContext)(l);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},804:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>h});var t=s(997),a=s(6689),n=s(968),i=s.n(n),l=s(52),o=s(1664),c=s.n(o),d=s(1163),u=s(4848);let layout_Header=()=>{let e=(0,d.useRouter)(),{user:r,isAuthenticated:s,logout:n}=(0,l.aC)(),[i,o]=(0,a.useState)(!1),handleLogout=async()=>{try{await n(),e.push("/")}catch(e){console.error("Logout failed:",e)}},isActivePage=r=>e.pathname===r,NavLink=({href:e,children:r,onClick:s})=>t.jsx(c(),{href:e,onClick:s,className:`px-3 py-2 rounded-md text-sm font-medium transition-colors ${isActivePage(e)?"bg-primary-100 text-primary-700":"text-neutral-700 hover:text-primary-600 hover:bg-neutral-100"}`,children:r});return(0,t.jsxs)("header",{className:"bg-white border-b border-neutral-200 sticky top-0 z-40",children:[t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"flex justify-between items-center h-16",children:[t.jsx("div",{className:"flex items-center",children:(0,t.jsxs)(c(),{href:"/",className:"flex items-center space-x-2",children:[t.jsx("div",{className:"bg-primary-500 text-white w-8 h-8 rounded-lg flex items-center justify-center font-bold text-lg",children:"BV"}),t.jsx("span",{className:"text-xl font-bold text-neutral-900",children:"BV Squares"})]})}),(0,t.jsxs)("nav",{className:"hidden md:flex items-center space-x-1",children:[t.jsx(NavLink,{href:"/",children:"Home"}),t.jsx(NavLink,{href:"/games",children:"Games"}),s&&r?(0,t.jsxs)(t.Fragment,{children:["player"===r.userType&&t.jsx(NavLink,{href:"/dashboard",children:"Dashboard"}),"admin"===r.userType&&(0,t.jsxs)(t.Fragment,{children:[t.jsx(NavLink,{href:"/admin/dashboard",children:"Admin"}),t.jsx(NavLink,{href:"/admin/games",children:"Manage Games"}),t.jsx(NavLink,{href:"/admin/requests",children:"Requests"})]})]}):null]}),t.jsx("div",{className:"hidden md:flex items-center space-x-3",children:s&&r?(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsxs)("span",{className:"text-sm text-neutral-600",children:["Welcome, ",t.jsx("span",{className:"font-medium",children:r.displayName}),"admin"===r.userType&&t.jsx("span",{className:"ml-1 text-xs bg-secondary-100 text-secondary-800 px-2 py-1 rounded-full",children:"Admin"})]}),t.jsx(u.Z,{variant:"tertiary",size:"sm",onClick:handleLogout,children:"Logout"})]}):(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(u.Z,{variant:"tertiary",size:"sm",onClick:()=>e.push("/login"),children:"Login"}),t.jsx(u.Z,{variant:"primary",size:"sm",onClick:()=>e.push("/register"),children:"Sign Up"})]})}),t.jsx("button",{className:"md:hidden p-2 rounded-md text-neutral-700 hover:text-primary-600 hover:bg-neutral-100 focus:outline-none focus:ring-2 focus:ring-primary-500",onClick:()=>o(!i),"aria-label":"Toggle mobile menu",children:t.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i?t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})}),i&&t.jsx("div",{className:"md:hidden border-t border-neutral-200 bg-white",children:(0,t.jsxs)("div",{className:"px-2 pt-2 pb-3 space-y-1",children:[t.jsx(NavLink,{href:"/",onClick:()=>o(!1),children:"Home"}),t.jsx(NavLink,{href:"/games",onClick:()=>o(!1),children:"Games"}),s&&r?(0,t.jsxs)(t.Fragment,{children:["player"===r.userType&&t.jsx(NavLink,{href:"/dashboard",onClick:()=>o(!1),children:"Dashboard"}),"admin"===r.userType&&(0,t.jsxs)(t.Fragment,{children:[t.jsx(NavLink,{href:"/admin/dashboard",onClick:()=>o(!1),children:"Admin"}),t.jsx(NavLink,{href:"/admin/games",onClick:()=>o(!1),children:"Manage Games"}),t.jsx(NavLink,{href:"/admin/requests",onClick:()=>o(!1),children:"Requests"})]}),(0,t.jsxs)("div",{className:"px-3 py-2 border-t border-neutral-200 mt-2 pt-2",children:[(0,t.jsxs)("div",{className:"text-sm text-neutral-600 mb-2",children:["Logged in as ",t.jsx("span",{className:"font-medium",children:r.displayName}),"admin"===r.userType&&t.jsx("span",{className:"ml-1 text-xs bg-secondary-100 text-secondary-800 px-2 py-1 rounded-full",children:"Admin"})]}),t.jsx(u.Z,{variant:"tertiary",size:"sm",fullWidth:!0,onClick:()=>{handleLogout(),o(!1)},children:"Logout"})]})]}):(0,t.jsxs)("div",{className:"px-3 py-2 border-t border-neutral-200 mt-2 pt-2 space-y-2",children:[t.jsx(u.Z,{variant:"tertiary",size:"sm",fullWidth:!0,onClick:()=>{e.push("/login"),o(!1)},children:"Login"}),t.jsx(u.Z,{variant:"primary",size:"sm",fullWidth:!0,onClick:()=>{e.push("/register"),o(!1)},children:"Sign Up"})]})]})})]})},layout_Footer=()=>{let e=new Date().getFullYear();return t.jsx("footer",{className:"bg-neutral-50 border-t border-neutral-200",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[(0,t.jsxs)("div",{className:"col-span-1 md:col-span-2",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[t.jsx("div",{className:"bg-primary-500 text-white w-8 h-8 rounded-lg flex items-center justify-center font-bold text-lg",children:"BV"}),t.jsx("span",{className:"text-xl font-bold text-neutral-900",children:"BV Squares"})]}),t.jsx("p",{className:"text-neutral-600 mb-4 max-w-md",children:"The premier platform for managing sports betting squares with admin approval workflows. Create games, request squares, and track winners in a fun and organized way."}),(0,t.jsxs)("div",{className:"flex space-x-4",children:[t.jsx("span",{className:"text-sm text-neutral-500",children:"\uD83C\uDFC8 Football"}),t.jsx("span",{className:"text-sm text-neutral-500",children:"\uD83C\uDFC0 Basketball"}),t.jsx("span",{className:"text-sm text-neutral-500",children:"⚽ Soccer"})]})]}),(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"text-sm font-semibold text-neutral-900 uppercase tracking-wider mb-4",children:"Quick Links"}),(0,t.jsxs)("ul",{className:"space-y-2",children:[t.jsx("li",{children:t.jsx(c(),{href:"/",className:"text-neutral-600 hover:text-primary-600 transition-colors",children:"Home"})}),t.jsx("li",{children:t.jsx(c(),{href:"/games",className:"text-neutral-600 hover:text-primary-600 transition-colors",children:"Browse Games"})}),t.jsx("li",{children:t.jsx(c(),{href:"/register",className:"text-neutral-600 hover:text-primary-600 transition-colors",children:"Sign Up"})}),t.jsx("li",{children:t.jsx(c(),{href:"/login",className:"text-neutral-600 hover:text-primary-600 transition-colors",children:"Login"})})]})]}),(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"text-sm font-semibold text-neutral-900 uppercase tracking-wider mb-4",children:"Support"}),(0,t.jsxs)("ul",{className:"space-y-2",children:[t.jsx("li",{children:t.jsx(c(),{href:"/help",className:"text-neutral-600 hover:text-primary-600 transition-colors",children:"Help Center"})}),t.jsx("li",{children:t.jsx(c(),{href:"/rules",className:"text-neutral-600 hover:text-primary-600 transition-colors",children:"Game Rules"})}),t.jsx("li",{children:t.jsx(c(),{href:"/contact",className:"text-neutral-600 hover:text-primary-600 transition-colors",children:"Contact Us"})}),t.jsx("li",{children:t.jsx(c(),{href:"/privacy",className:"text-neutral-600 hover:text-primary-600 transition-colors",children:"Privacy Policy"})})]})]})]}),(0,t.jsxs)("div",{className:"mt-8 pt-8 border-t border-neutral-200 flex flex-col md:flex-row justify-between items-center",children:[(0,t.jsxs)("div",{className:"text-neutral-500 text-sm",children:["\xa9 ",e," BV Squares. All rights reserved."]}),(0,t.jsxs)("div",{className:"mt-4 md:mt-0 text-sm text-neutral-500",children:["Built with"," ",t.jsx("span",{className:"text-red-500","aria-label":"love",children:"❤️"})," ","using the Claude Development Pipeline"]})]}),t.jsx("div",{className:"mt-4 pt-4 border-t border-neutral-200",children:(0,t.jsxs)("p",{className:"text-xs text-neutral-500 text-center max-w-4xl mx-auto",children:[t.jsx("strong",{children:"Disclaimer:"})," This platform is for entertainment purposes only. No actual money is exchanged through this system. Users are responsible for any external financial arrangements. Please gamble responsibly and in accordance with local laws."]})})]})})};function MyApp({Component:e,pageProps:r}){return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(i(),{children:[t.jsx("title",{children:"BV Squares - Sports Betting Squares Game"}),t.jsx("meta",{name:"description",content:"Create and manage sports betting squares with admin approval workflows. Play football, basketball, and soccer squares games."}),t.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),t.jsx("link",{rel:"icon",href:"/favicon.ico"}),t.jsx("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),t.jsx("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"anonymous"}),t.jsx("link",{href:"https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap",rel:"stylesheet"})]}),t.jsx(l.Ho,{children:(0,t.jsxs)("div",{className:"min-h-screen bg-neutral-50 flex flex-col",children:[t.jsx(layout_Header,{}),t.jsx("main",{className:"flex-1",children:t.jsx(e,{...r})}),t.jsx(layout_Footer,{})]})})]})}s(108);let h=MyApp},108:()=>{}};