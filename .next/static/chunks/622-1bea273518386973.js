"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[622],{2470:function(e,a,r){var s=r(5893),t=r(7294),n=r(1163),l=r(1664),i=r.n(l),d=r(4848),o=r(7281),m=r(52),c=r(3775),u=r(909);a.Z=e=>{let{userType:a="player",onSuccess:r}=e,l=(0,n.useRouter)(),{login:h,isLoading:x}=(0,m.aC)(),[p,g]=(0,t.useState)({username:"",password:""}),[b,v]=(0,t.useState)({}),[w,f]=(0,t.useState)(""),handleInputChange=e=>{let{name:a,value:r}=e.target;g(e=>({...e,[a]:r})),b[a]&&v(e=>({...e,[a]:""})),w&&f("")},validateForm=()=>{let e={};return p.username?(0,c.rV)(p.username)||(0,c.oH)(p.username)||(e.username="Please enter a valid username or email"):e.username="Username is required",p.password?p.password.length<3&&(e.password="Password must be at least 3 characters"):e.password="Password is required",v(e),0===Object.keys(e).length},handleSubmit=async e=>{if(e.preventDefault(),validateForm())try{await h(p.username,p.password),r?r():"admin"===a?l.push("/admin/dashboard"):l.push("/dashboard")}catch(e){f((0,u.wh)(e))}};return(0,s.jsx)("div",{className:"max-w-md mx-auto",children:(0,s.jsxs)("div",{className:"bg-white p-8 rounded-lg border border-neutral-200 shadow-sm",children:[(0,s.jsxs)("div",{className:"mb-6 text-center",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-neutral-900",children:"admin"===a?"Admin Login":"Player Login"}),(0,s.jsx)("p",{className:"text-neutral-600 mt-2",children:"admin"===a?"Access the admin dashboard to manage games and requests":"Login to request squares and track your games"})]}),w&&(0,s.jsx)("div",{className:"mb-4 p-3 bg-error/10 border border-error/20 rounded-md",children:(0,s.jsx)("p",{className:"text-error text-sm",children:w})}),(0,s.jsxs)("form",{onSubmit:handleSubmit,className:"space-y-4",children:[(0,s.jsx)(o.Z,{label:"Username or Email",name:"username",type:"text",value:p.username,onChange:handleInputChange,error:b.username,placeholder:"Enter your username or email",required:!0,disabled:x}),(0,s.jsx)(o.Z,{label:"Password",name:"password",type:"password",value:p.password,onChange:handleInputChange,error:b.password,placeholder:"Enter your password",required:!0,disabled:x}),(0,s.jsx)(d.Z,{type:"submit",variant:"primary",size:"lg",fullWidth:!0,isLoading:x,children:x?"Signing In...":"Sign In"})]}),"player"===a&&(0,s.jsx)("div",{className:"mt-6 text-center",children:(0,s.jsxs)("p",{className:"text-neutral-600",children:["Don't have an account?"," ",(0,s.jsx)(i(),{href:"/register",className:"text-primary-600 hover:text-primary-500 font-medium",children:"Sign up here"})]})}),"admin"===a&&(0,s.jsx)("div",{className:"mt-6 text-center",children:(0,s.jsxs)("p",{className:"text-sm text-neutral-500",children:["Admin accounts are created manually."," ",(0,s.jsx)(i(),{href:"/contact",className:"text-primary-600 hover:text-primary-500 font-medium",children:"Contact support"})," ","for access."]})}),(0,s.jsx)("div",{className:"mt-4 text-center",children:(0,s.jsx)(i(),{href:"admin"===a?"/login":"/admin/login",className:"text-sm text-neutral-500 hover:text-neutral-700",children:"admin"===a?"← Player Login":"Admin Login →"})})]})})}},7281:function(e,a,r){var s=r(5893);r(7294),a.Z=e=>{let{label:a,name:r,type:t="text",placeholder:n,value:l,onChange:i,error:d,required:o=!1,disabled:m=!1,options:c=[],rows:u=3,min:h,max:x,step:p}=e,g="".concat("form-input block w-full rounded-md border-neutral-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 disabled:bg-neutral-50 disabled:text-neutral-500"," ").concat(d?"border-error focus:border-error focus:ring-error":"");return(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsxs)("label",{htmlFor:r,className:"block text-sm font-medium text-neutral-700 mb-1",children:[a,o&&(0,s.jsx)("span",{className:"text-error ml-1",children:"*"})]}),"select"===t?(0,s.jsxs)("select",{id:r,name:r,value:l,onChange:i,disabled:m,required:o,className:g,"aria-invalid":!!d,"aria-describedby":d?"".concat(r,"-error"):void 0,children:[(0,s.jsxs)("option",{value:"",children:["Select ",a]}),c.map(e=>(0,s.jsx)("option",{value:e.value,children:e.label},e.value))]}):"textarea"===t?(0,s.jsx)("textarea",{id:r,name:r,value:l,onChange:i,placeholder:n,disabled:m,required:o,rows:u,className:g,"aria-invalid":!!d,"aria-describedby":d?"".concat(r,"-error"):void 0}):(0,s.jsx)("input",{type:t,id:r,name:r,value:l,onChange:i,placeholder:n,disabled:m,required:o,min:h,max:x,step:p,className:g,"aria-invalid":!!d,"aria-describedby":d?"".concat(r,"-error"):void 0}),d&&(0,s.jsx)("p",{id:"".concat(r,"-error"),className:"mt-1 text-sm text-error",role:"alert",children:d})]})}},2395:function(e,a,r){r.d(a,{wY:function(){return PageLoader}});var s=r(5893);r(7294);let LoadingSpinner=e=>{let{size:a="md",color:r="primary",text:t,center:n=!1}=e,l={primary:"text-primary-500",secondary:"text-secondary-500",neutral:"text-neutral-500",white:"text-white"},i="animate-spin ".concat({sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8",xl:"h-12 w-12"}[a]," ").concat(l[r]);return(0,s.jsxs)("div",{className:n?"flex flex-col items-center justify-center h-full min-h-[200px]":"flex items-center",children:[(0,s.jsxs)("svg",{className:i,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",role:"status","aria-label":t||"Loading",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),t&&(0,s.jsx)("span",{className:"ml-2 ".concat({sm:"text-sm",md:"text-base",lg:"text-lg",xl:"text-xl"}[a]," ").concat(l[r]),children:t})]})},PageLoader=e=>{let{text:a="Loading..."}=e;return(0,s.jsx)("div",{className:"flex flex-col items-center justify-center min-h-screen",children:(0,s.jsx)(LoadingSpinner,{size:"xl",text:a})})}},909:function(e,a,r){r.d(a,{wh:function(){return formatApiError}});let formatApiError=e=>"string"==typeof e?e:e&&"object"==typeof e&&"message"in e?e.message:"An unexpected error occurred"},3775:function(e,a,r){r.d(a,{To:function(){return validateRegisterForm},oH:function(){return validateEmail},rV:function(){return validateUsername}});let validateEmail=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),validateUsername=e=>/^[a-zA-Z0-9_]{3,20}$/.test(e),validateDisplayName=e=>e.length>=2&&e.length<=30,validatePassword=e=>e.length>=8,validateRegisterForm=e=>{let a={};return e.username?validateUsername(e.username)||(a.username="Username must be 3-20 characters, letters, numbers, and underscores only"):a.username="Username is required",e.email?validateEmail(e.email)||(a.email="Please enter a valid email address"):a.email="Email is required",e.displayName?validateDisplayName(e.displayName)||(a.displayName="Display name must be 2-30 characters"):a.displayName="Display name is required",e.password?validatePassword(e.password)||(a.password="Password must be at least 8 characters"):a.password="Password is required",e.confirmPassword?e.password!==e.confirmPassword&&(a.confirmPassword="Passwords do not match"):a.confirmPassword="Please confirm your password",a}}}]);